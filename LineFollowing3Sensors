#include <Smartcar.h>
/*
 * Line following sketch
 */
Car car;
Odometer encoderLeft, encoderRight;
Gyroscope gyro;
 
void setup() {
  gyro.attach();
  encoderLeft.attach(2);
  encoderRight.attach(3);
  encoderLeft.begin();
  encoderRight.begin();
  gyro.begin();
  car.begin(encoderLeft, encoderRight, gyro);
  int left=0, right=0, center=0;// Line sensors give higher values for darker colours 
}

/*
 * Only three senarios: 1.Rotate left 2.Rotate right 3.Go ahead
 */
void loop() {
  updateValues();// read the values from the sensors
  
if(left>=center && left>right){//if the line is below the left sensor (it could be below both the left and the center one)
  car.setMotorSpeed(0,50);//rotate left
}else if(right>=center && left<right){//Same case but on the oppsite direction (right)
  car.setMotorSpeed(50,0);
}else if(center>left && center>right){//if the center sensor is the only one above the line just advance forward 
  car.setMotorSpeed(50,50);// go ahead
}
; //Otherwise if there's no black (or darker) line then just do nothing.

}
/*
 * Update the values of the line following sensors 
 */
void updateValues(){//P.S I forgot the correct pins assosiated with the sensors
left = analogRead(A8);// put the correct pin here
right = analogRead(A9);//put the correct pin here
center = analogRead(A10);//put the correct pin here  
}
